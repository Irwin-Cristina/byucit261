<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="utf-8">
        <title> JavaScript Events| Cristina Irwin | BYU-Idaho</title>
        <meta name="description" content="Events for Cristina Irwin in CIT 261: Mobile Developement at BYU-Idaho.">
        <meta name="viewport" content="width=device-width, inital-scale=1">
        
        <style>
            
        </style>
    </head>
    
<body>        
    <h1>Event Objects</h1>
    <h2>Mousedown, mousemove</h2>
    


        <p>Drag the bar to change the width:</p>
        <div style="background: steelblue; width: 60px; height: 200px">
    </div>

    


      
    <script>
       
        
        window.addEventListener("click", event=> {
            let point = document.createElement("div");
            point.className = "point";
            point.style.left = (event.pageX - 4) + "px";
            point.style.top = (event.pageY - 4) + "px";
            document.body.appendChild(point);
        });
        let lastX;
        let bar = document.querySelector("div");
        bar.addEventListener("mousedown", event => {
            if (event.button == 0) {
                lastX = event.clientX;
                window.addEventListener("mousemove", moved);
                event.preventDefault();
            }
        });
        
        function moved(event) {
           if (event.buttons == 0) {
               window.removeEventListener("mousemove", moved);
           } else {
             let dist = event.clientX -lastX;
             let newWidth = Math.max(10, bar.offsetWidth + dist);
               bar.style.width = newWidth + "px";
               lastX = event.clientX;
           }
        }
        

        
    </script>
    
    </body>
        </html>